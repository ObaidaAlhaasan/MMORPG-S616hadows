{"version":3,"sources":["../../src/game_manager/PlayerModel.js"],"names":["PlayerModel","playerId","spawnLocations","players","name","frame","attack","defense","health","maxHealth","gold","playerAttacking","flipX","id","playerName","playerItems","maxNumberOfItems","location","generateLocation","x","y","Object","keys","length","item","attackBonus","defenseBonus","healthBonus","itemId","damage","updateHealth","Math","floor","random","invalidLocation","some","key"],"mappings":"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","sourcesContent":["export default class PlayerModel {\n  constructor(playerId, spawnLocations, players, name, frame) {\n    this.attack = 25;\n    this.defense = 10;\n    this.health = 150;\n    this.maxHealth = 150;\n    this.gold = 0;\n    this.playerAttacking = false;\n    this.flipX = true;\n    this.id = playerId;\n    this.spawnLocations = spawnLocations;\n    this.playerName = name;\n    this.frame = frame;\n    this.playerItems = {};\n    this.maxNumberOfItems = 5;\n\n    const location = this.generateLocation(players);\n    [this.x, this.y] = location;\n  }\n\n  canPickupItem() {\n    if (Object.keys(this.playerItems).length < 5) {\n      return true;\n    }\n    return false;\n  }\n\n  addItem(item) {\n    this.playerItems[item.id] = item;\n    this.attack += item.attackBonus;\n    this.defense += item.defenseBonus;\n    this.maxHealth += item.healthBonus;\n  }\n\n  removeItem(itemId) {\n    this.attack -= this.playerItems[itemId].attackBonus;\n    this.defense -= this.playerItems[itemId].defenseBonus;\n    this.maxHealth -= this.playerItems[itemId].healthBonus;\n    delete this.playerItems[itemId];\n  }\n\n  playerAttacked(attack) {\n    const damage = this.defense - attack;\n    this.updateHealth(damage);\n  }\n\n  updateGold(gold) {\n    this.gold += gold;\n  }\n\n  updateHealth(health) {\n    this.health += health;\n    if (this.health > this.maxHealth) this.health = this.maxHealth;\n  }\n\n  respawn(players) {\n    this.health = this.maxHealth;\n    const location = this.generateLocation(players);\n    [this.x, this.y] = location;\n  }\n\n  generateLocation(players) {\n    const location = this.spawnLocations[Math.floor(Math.random() * this.spawnLocations.length)];\n    const invalidLocation = Object.keys(players).some((key) => {\n      if (players[key].x === location[0] && players[key].y === location[1]) {\n        return true;\n      }\n      return false;\n    });\n    if (invalidLocation) return this.generateLocation(players);\n    return location;\n  }\n}\n"],"file":"PlayerModel.js"}